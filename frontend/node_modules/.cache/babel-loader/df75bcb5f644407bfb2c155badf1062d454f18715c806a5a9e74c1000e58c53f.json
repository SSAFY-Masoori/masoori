{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\S09P22B308\\\\frontend\\\\src\\\\pages\\\\main\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport * as THREE from \"three\";\nimport Flickity from \"flickity\";\nimport \"flickity/css/flickity.css\"; // Import Flickity CSS\nimport \"./style.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useUserInfo } from \"@/apis/menu/Queries/useUserInfo\";\n// import { userInfoState, userLoginState } from \"@/states/userState\";\nimport money from \"../../assets/img/mainLogo/money.png\";\nimport dictionary from \"../../assets/img/mainLogo/dictionary.jpg\";\nimport masooriStory from \"../../assets/img/mainLogo/masooriStory.jpg\";\nimport spendtarot from \"../../assets/img/mainLogo/spendtarot.jpg\";\nimport { toast } from \"react-toastify\";\nimport VerifyNumberModal from \"@/components/verifyNumberModal\";\nimport { useRecoilState } from \"recoil\";\nimport { nowDateInfoState } from \"@/states/spendState\";\nimport { useGetConsumeRecent } from \"@/apis/spend/Queries/useGetConsumeRecent\";\nimport { spendIdState, specialIdState } from \"@/states/dictionaryState\";\nimport { modalOpenState } from \"@/states/userState\";\nimport { usePostConsume } from \"@/apis/main/Mutations/usePostConsume\";\n\n//verifymodal\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Backdrop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8); /* Semi-transparent black background */\n  display: ${props => props.isOpen ? \"block\" : \"none\"};\n  z-index: 1;\n`;\n_c = Backdrop;\nconst ModalContainer = styled.div`\n  position: fixed;\n  top: 23%;\n  left: 40%;\n  transform: translate(-50%, -50%);\n  padding: 20px;\n  display: ${props => props.isOpen ? \"block\" : \"none\"};\n  z-index: 3;\n`;\n_c2 = ModalContainer;\nconst MainPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const canvasRef = useRef(null); // Ref to store the canvas element\n\n  useEffect(() => {\n    let body,\n      mainContainer,\n      scene,\n      renderer,\n      camera,\n      windowWidth,\n      windowHeight,\n      windowHalfWidth,\n      windowHalfHeight,\n      mouseX = 0,\n      mouseY = 0,\n      graphics,\n      currentGraphic = 0,\n      graphicCanvas,\n      gctx,\n      graphicPixels;\n    const cameraLookAt = new THREE.Vector3(0, 0, 0),\n      cameraTarget = new THREE.Vector3(0, 0, 800),\n      colors = [\"#F9DFAD\", \"#FFC56E\", \"#F96893\", \"#FFFFFF\", \"#FFC56E\"],\n      canvasWidth = 260,\n      canvasHeight = 260,\n      particles = [],\n      graphicOffsetX = canvasWidth / 2,\n      graphicOffsetY = canvasHeight / 4;\n    const initStage = () => {\n      body = document.querySelector(\".body\");\n      mainContainer = document.querySelector(\"#main\");\n      setWindowSize();\n      window.addEventListener(\"resize\", onWindowResize, false);\n      window.addEventListener(\"mousemove\", onMouseMove, false);\n    };\n    const initScene = () => {\n      scene = new THREE.Scene();\n      renderer = new THREE.WebGLRenderer({\n        alpha: true,\n        antialias: true,\n        canvas: canvasRef.current // Use the canvas element from the ref\n      });\n\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.setSize(windowWidth, windowHeight);\n      mainContainer.appendChild(renderer.domElement);\n      scene.background = new THREE.Color(0x4d3548);\n    };\n    const initCamera = () => {\n      const fieldOfView = 75;\n      const aspectRatio = windowWidth / windowHeight;\n      const nearPlane = 1;\n      const farPlane = 3000;\n      camera = new THREE.PerspectiveCamera(fieldOfView, aspectRatio, nearPlane, farPlane);\n      camera.position.z = 800;\n    };\n    const initCanvas = () => {\n      graphicCanvas = document.createElement(\"canvas\");\n      graphicCanvas.width = canvasWidth;\n      graphicCanvas.height = canvasHeight;\n      gctx = graphicCanvas.getContext(\"2d\");\n      graphics = document.querySelectorAll(\".intro-cell > img\");\n    };\n    function Particle(graphicPixels) {\n      this.graphicPixels = graphicPixels; // Store graphicPixels array\n      this.vx = Math.random() * 0.05;\n      this.vy = Math.random() * 0.05;\n    }\n    Particle.prototype.init = function (i) {\n      const particle = new THREE.Object3D();\n      const geometryCore = new THREE.SphereGeometry(2, 4, 4);\n      const materialCore = new THREE.MeshBasicMaterial({\n        color: colors[i % colors.length]\n      });\n      const box = new THREE.Mesh(geometryCore, materialCore);\n      const pos = getGraphicPos(graphicPixels[i]);\n      particle.targetPosition = new THREE.Vector3(pos.x, pos.y, pos.z);\n      particle.position.set(windowWidth * 0.5, windowHeight * 0.5, -10 * Math.random() + 20);\n      randomPos(particle.position);\n\n      // Modifying vertices for BufferGeometry\n      const positions = box.geometry.getAttribute(\"position\").array;\n      for (let i = 0; i < positions.length; i += 3) {\n        positions[i] += -2 + Math.random() * 4; // x\n        positions[i + 1] += -2 + Math.random() * 4; // y\n        positions[i + 2] += -2 + Math.random() * 4; // z\n      }\n\n      box.geometry.getAttribute(\"position\").needsUpdate = true;\n      particle.add(box);\n      this.particle = particle;\n    };\n    Particle.prototype.updateRotation = function () {\n      this.particle.rotation.x += this.vx;\n      this.particle.rotation.y += this.vy;\n    };\n    Particle.prototype.updatePosition = function () {\n      this.particle.position.lerp(this.particle.targetPosition, 0.1);\n    };\n    const updateParticles = () => {\n      for (let i = 0, l = particles.length; i < l; i++) {\n        particles[i].updateRotation();\n        particles[i].updatePosition();\n      }\n    };\n    const getGraphicPos = pixel => {\n      const posX = (pixel.x - graphicOffsetX - Math.random() * 4 - 2) * 3;\n      const posY = (pixel.y - graphicOffsetY - Math.random() * 4 - 2) * 3;\n      const posZ = -20 * Math.random() + 40;\n      return {\n        x: posX,\n        y: posY,\n        z: posZ\n      };\n    };\n    const setParticles = () => {\n      const maxParticles = 3000; // Change this to the desired number of particles\n\n      for (let i = 0; i < graphicPixels.length && i < maxParticles; i++) {\n        if (particles[i]) {\n          const pos = getGraphicPos(graphicPixels[i]);\n          particles[i].particle.targetPosition.x = pos.x;\n          particles[i].particle.targetPosition.y = pos.y;\n          particles[i].particle.targetPosition.z = pos.z;\n        } else {\n          const p = new Particle();\n          p.init(i);\n          scene.add(p.particle);\n          particles[i] = p;\n        }\n      }\n      for (let i = graphicPixels.length; i < particles.length; i++) {\n        randomPos(particles[i].particle.targetPosition, true);\n      }\n      console.log(\"Total Particles: \" + particles.length);\n    };\n    const randomPos = (vector, outFrame = false) => {\n      const radius = outFrame ? windowWidth * 2 : windowWidth * -2;\n      const centerX = 0;\n      const centerY = 0;\n      const r = windowWidth + radius * Math.random();\n      const angle = Math.random() * Math.PI * 2;\n      vector.x = centerX + r * Math.cos(angle);\n      vector.y = centerY + r * Math.sin(angle);\n      vector.z = Math.random() * windowWidth;\n    };\n    const updateGraphic = () => {\n      const img = graphics[currentGraphic];\n      gctx.drawImage(img, 0, 0, canvasWidth, canvasHeight);\n      const gData = gctx.getImageData(0, 0, canvasWidth, canvasHeight).data;\n      graphicPixels = [];\n      for (let i = gData.length; i >= 0; i -= 4) {\n        if (gData[i] === 0) {\n          const x = i / 4 % canvasWidth;\n          const y = canvasHeight - Math.floor(Math.floor(i / canvasWidth) / 4);\n          if (x && x % 2 === 0 && y && y % 2 === 0) {\n            graphicPixels.push({\n              x: x,\n              y: y\n            });\n          }\n        }\n      }\n      for (let i = 0; i < particles.length; i++) {\n        randomPos(particles[i].particle.targetPosition);\n      }\n      setTimeout(() => {\n        setParticles();\n      }, 500);\n    };\n    const initBgObjects = () => {\n      for (let i = 0; i < 40; i++) {\n        createBgObject(i);\n      }\n    };\n    const createBgObject = i => {\n      const geometry = new THREE.SphereGeometry(10, 6, 6);\n      const material = new THREE.MeshBasicMaterial({\n        color: 0xffffff\n      });\n      const sphere = new THREE.Mesh(geometry, material);\n      scene.add(sphere);\n      const x = Math.random() * windowWidth * 2 - windowWidth;\n      const y = Math.random() * windowHeight * 2 - windowHeight;\n      const z = Math.random() * -2000 - 200;\n      sphere.position.set(x, y, z);\n    };\n    const initSlider = () => {\n      const elem = document.querySelector(\".intro-carousel\");\n      const flkty = new Flickity(elem, {\n        cellAlign: \"center\",\n        contain: true,\n        pageDots: false,\n        wrapAround: true,\n        resize: true,\n        arrowShape: {\n          x0: 10,\n          x1: 60,\n          y1: 50,\n          x2: 70,\n          y2: 40,\n          x3: 30\n        }\n      });\n      const listener = () => {\n        currentGraphic = flkty.selectedIndex;\n        updateGraphic();\n        console.log(flkty.selectedIndex);\n      };\n      flkty.on(\"select\", listener);\n    };\n    const onMouseMove = event => {\n      mouseX = event.clientX - windowHalfWidth;\n      mouseY = event.clientY - windowHalfHeight;\n      cameraTarget.x = Number(-mouseX) / 2;\n      cameraTarget.y = mouseY / 2;\n    };\n    const onWindowResize = () => {\n      setWindowSize();\n      camera.aspect = windowWidth / windowHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(windowWidth, windowHeight);\n    };\n    const setWindowSize = () => {\n      windowWidth = window.innerWidth;\n      windowHeight = window.innerHeight;\n      windowHalfWidth = windowWidth / 3;\n      windowHalfHeight = windowHeight / 2;\n    };\n    const animate = () => {\n      requestAnimationFrame(animate);\n      updateParticles();\n      camera.position.lerp(cameraTarget, 0.2);\n      camera.lookAt(cameraLookAt);\n      render();\n    };\n    const render = () => {\n      renderer.render(scene, camera);\n    };\n    initStage();\n    initScene();\n    initCanvas();\n    initCamera();\n    initSlider();\n    initBgObjects();\n    updateGraphic();\n    animate();\n    const areAllImagesLoaded = () => {\n      const images = document.querySelectorAll(\".intro-cell > img\");\n      for (const img of images) {\n        if (!img.complete) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const initAll = () => {\n      initStage();\n      initScene();\n      initCanvas();\n      initCamera();\n      initSlider();\n      initBgObjects();\n      updateGraphic();\n      animate();\n      window.addEventListener(\"resize\", onWindowResize, false);\n      window.addEventListener(\"mousemove\", onMouseMove, false);\n    };\n    if (areAllImagesLoaded()) {\n      initAll();\n    } else {\n      const images = document.querySelectorAll(\".intro-cell > img\");\n      let loadedImagesCount = 0;\n      images.forEach(img => {\n        img.addEventListener(\"load\", () => {\n          loadedImagesCount++;\n          if (loadedImagesCount === images.length) {\n            initAll();\n          }\n        });\n      });\n    }\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener(\"resize\", onWindowResize);\n      window.removeEventListener(\"mousemove\", onMouseMove);\n    };\n  }, []);\n\n  //modal\n  const [isVerifyModalOpen, setIsVerifyModalOpen] = useState(false); // 모달 열림 여부 상태\n  const [isModalOpen, setIsModalOpen] = useRecoilState(modalOpenState);\n\n  //navigation\n  const navigateAbout = () => {\n    navigate(\"/landing\");\n  };\n  const navigateLuck = () => {\n    if (isLogin === \"true\") {\n      navigate(\"/userluck\");\n    } else {\n      toast.info(\"비로그인 시 카드 저장 불가\");\n      setTimeout(() => {\n        navigate(\"/luck\");\n      }, 1000); // 1초 뒤에 \"/luck\"으로 이동\n    }\n  };\n\n  const navigateDictionary = () => {\n    if (isLogin === \"true\") {\n      navigate(\"/dictionary\");\n    } else {\n      setIsModalOpen(!isModalOpen);\n    }\n  };\n\n  // 모달 닫기 함수\n  const closeModal = () => {\n    setIsVerifyModalOpen(false);\n  };\n  const closeVerifyModal = () => {\n    setIsVerifyModalOpen(false);\n  };\n\n  // 로그인 사용자 userInfo:isAuthenticated 체크\n  const [spendId, setSpendId] = useRecoilState(spendIdState);\n  const [nowDateInfo, setNowDateInfo] = useRecoilState(nowDateInfoState);\n  const [isLogin, setIsLogin] = useState(\"\");\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const usePostConsumeMutation = usePostConsume();\n  const postConsumeHandler = useCallback(async () => {\n    try {\n      await usePostConsumeMutation.mutateAsync();\n      toast.info(\"⛓ 연동 성공 ⛓\");\n    } catch (error) {\n      console.error(\"연동 실패:\", error);\n    }\n  }, [usePostConsumeMutation]);\n  const consumeRecent = useGetConsumeRecent(nowDateInfo);\n  const userInfo = useUserInfo(isLogin);\n  useEffect(() => {\n    setNowDateInfo(\"\");\n    if (consumeRecent === \"인증\") {\n      console.log(\"인증\");\n      postConsumeHandler();\n    }\n    if (consumeRecent && consumeRecent.card) {\n      // Access consumeRecent.card safely\n      setSpendId(consumeRecent.card.id);\n      console.log(spendId);\n      window.location.href = \"/spend\";\n    }\n  }, [consumeRecent, setNowDateInfo, setSpendId, spendId, isVerifyModalOpen, postConsumeHandler]);\n  useEffect(() => {\n    // Check if there is an accessToken in localStorage\n    const accessToken = localStorage.getItem(\"accessToken\");\n    if (accessToken) {\n      setIsLogin(\"true\"); // accessToken이 있으면 isLogin을 true로 설정\n    }\n  }, [userInfo]);\n  const checkAuth = () => {\n    if (isLogin === \"true\") {\n      if (userInfo.isAuthenticated === true) {\n        const currentDate = new Date();\n        currentDate.setHours(0, 0, 0, 0); // Set hours, minutes, seconds, and milliseconds to zero\n        const initialEndDate = currentDate.toISOString().slice(0, -2);\n        setNowDateInfo(initialEndDate);\n        console.log(\"true라 recent를 호출할거임\");\n      } else {\n        console.log(\"false라 모달이 떴음\");\n        setIsVerifyModalOpen(!isVerifyModalOpen);\n      }\n    } else {\n      setIsModalOpen(!isModalOpen);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      role: \"main\",\n      id: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feature\",\n        children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"intro-carousel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro-cell\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: masooriStory,\n              className: \"intro-graphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"intro-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"\\uB9C8\\uC218\\uB9AC \\uC774\\uC57C\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uB2F9\\uC2E0\\uC758 \\uC18C\\uBE44\\uB0B4\\uC5ED\\uC73C\\uB85C \\uB9CC\\uB4DC\\uB294 \\uB9C8\\uC218\\uB9AC\\uB9CC\\uC758 \\uD2B9\\uBCC4\\uD55C \\uD0C0\\uB85C\\uCE74\\uB4DC.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 19\n                }, this), \"\\uB9C8\\uC218\\uB9AC\\uC640 \\uD568\\uAED8 \\uC0C8\\uB85C\\uC6B4 \\uC2DC\\uC791, \\uC0C8\\uB85C\\uC6B4 \\uC2B5\\uAD00\\uC744 \\uB9CC\\uB4E4\\uC5B4\\uBCF4\\uC138\\uC694.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: navigateAbout,\n                children: \"ENTER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro-cell\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: money,\n              className: \"intro-graphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"intro-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"\\uC624\\uB298\\uC758 \\uAE08\\uC804\\uC6B4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uB9C8\\uC218\\uB9AC\\uC640 \\uD568\\uAED8 \\uC624\\uB298\\uC758 \\uAE08\\uC804\\uC6B4\\uACFC \\uD589\\uC6B4\\uC758 \\uC0C9\\uAE54\\uC744 \\uD655\\uC778\\uD558\\uC138\\uC694!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 19\n                }, this), \" \\uB2F9\\uC2E0\\uC758 \\uD558\\uB8E8\\uB97C \\uB354 \\uD589\\uBCF5\\uD558\\uACE0 \\uD2B9\\uBCC4\\uD558\\uAC8C \\uB9CC\\uB4E4\\uC5B4 \\uC904 \\uC870\\uC5B8\\uB4E4\\uC774 \\uAE30\\uB2E4\\uB9AC\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: navigateLuck,\n                children: \"ENTER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro-cell\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: spendtarot,\n              className: \"intro-graphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"intro-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"\\uC18C\\uBE44\\uD328\\uD134 \\uD0C0\\uB85C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uB2F9\\uC2E0\\uC758 \\uC8FC\\uAC04 \\uC18C\\uBE44 \\uD328\\uD134\\uC73C\\uB85C \\uD0C4\\uC0DD\\uD558\\uB294 \\uB2E8 \\uD558\\uB098\\uC758 \\uD0C0\\uB85C\\uCE74\\uB4DC\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 19\n                }, this), \" \\uB2F9\\uC2E0\\uB9CC\\uC744 \\uC704\\uD55C \\uD2B9\\uBCC4\\uD55C \\uBA54\\uC2DC\\uC9C0\\uB97C \\uBC1B\\uC544\\uBCF4\\uC138\\uC694.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: checkAuth,\n                children: \"ENTER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro-cell\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: dictionary,\n              className: \"intro-graphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"intro-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"\\uB3C4\\uAC10 \\uBC0F \\uCE74\\uB4DC\\uCD94\\uCC9C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uB2F9\\uC2E0\\uB9CC\\uC758 \\uD0C0\\uB85C\\uCE74\\uB4DC\\uB97C \\uD55C \\uB208\\uC5D0 \\uD655\\uC778\\uD558\\uC138\\uC694. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 42\n                }, this), \"\\uB354\\uBD88\\uC5B4, \\uB9C8\\uC218\\uB9AC\\uC758 \\uB9DE\\uCDA4\\uD615 \\uCE74\\uB4DC \\uCD94\\uCC9C \\uC11C\\uBE44\\uC2A4\\uB97C \\uD1B5\\uD574 \\uB611\\uB611\\uD55C \\uC18C\\uBE44\\uB97C \\uACBD\\uD5D8\\uD574\\uBCF4\\uC138\\uC694!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: navigateDictionary,\n                children: \"ENTER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalContainer, {\n      isOpen: isVerifyModalOpen,\n      children: /*#__PURE__*/_jsxDEV(VerifyNumberModal, {\n        closeModal: closeVerifyModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      isOpen: isVerifyModalOpen,\n      onClick: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 493,\n    columnNumber: 5\n  }, this);\n};\n_s(MainPage, \"tYx7bDzYD5MCSKrRAIAuhubjYZM=\", false, function () {\n  return [useNavigate, useRecoilState, useRecoilState, useRecoilState, usePostConsume, useGetConsumeRecent, useUserInfo];\n});\n_c3 = MainPage;\nexport default MainPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Backdrop\");\n$RefreshReg$(_c2, \"ModalContainer\");\n$RefreshReg$(_c3, \"MainPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","THREE","Flickity","useNavigate","styled","useUserInfo","money","dictionary","masooriStory","spendtarot","toast","VerifyNumberModal","useRecoilState","nowDateInfoState","useGetConsumeRecent","spendIdState","specialIdState","modalOpenState","usePostConsume","jsxDEV","_jsxDEV","Backdrop","div","props","isOpen","_c","ModalContainer","_c2","MainPage","_s","navigate","canvasRef","body","mainContainer","scene","renderer","camera","windowWidth","windowHeight","windowHalfWidth","windowHalfHeight","mouseX","mouseY","graphics","currentGraphic","graphicCanvas","gctx","graphicPixels","cameraLookAt","Vector3","cameraTarget","colors","canvasWidth","canvasHeight","particles","graphicOffsetX","graphicOffsetY","initStage","document","querySelector","setWindowSize","window","addEventListener","onWindowResize","onMouseMove","initScene","Scene","WebGLRenderer","alpha","antialias","canvas","current","setPixelRatio","devicePixelRatio","setSize","appendChild","domElement","background","Color","initCamera","fieldOfView","aspectRatio","nearPlane","farPlane","PerspectiveCamera","position","z","initCanvas","createElement","width","height","getContext","querySelectorAll","Particle","vx","Math","random","vy","prototype","init","i","particle","Object3D","geometryCore","SphereGeometry","materialCore","MeshBasicMaterial","color","length","box","Mesh","pos","getGraphicPos","targetPosition","x","y","set","randomPos","positions","geometry","getAttribute","array","needsUpdate","add","updateRotation","rotation","updatePosition","lerp","updateParticles","l","pixel","posX","posY","posZ","setParticles","maxParticles","p","console","log","vector","outFrame","radius","centerX","centerY","r","angle","PI","cos","sin","updateGraphic","img","drawImage","gData","getImageData","data","floor","push","setTimeout","initBgObjects","createBgObject","material","sphere","initSlider","elem","flkty","cellAlign","contain","pageDots","wrapAround","resize","arrowShape","x0","x1","y1","x2","y2","x3","listener","selectedIndex","on","event","clientX","clientY","Number","aspect","updateProjectionMatrix","innerWidth","innerHeight","animate","requestAnimationFrame","lookAt","render","areAllImagesLoaded","images","complete","initAll","loadedImagesCount","forEach","removeEventListener","isVerifyModalOpen","setIsVerifyModalOpen","isModalOpen","setIsModalOpen","navigateAbout","navigateLuck","isLogin","info","navigateDictionary","closeModal","closeVerifyModal","spendId","setSpendId","nowDateInfo","setNowDateInfo","setIsLogin","isAuthenticated","setIsAuthenticated","usePostConsumeMutation","postConsumeHandler","mutateAsync","error","consumeRecent","userInfo","card","id","location","href","accessToken","localStorage","getItem","checkAuth","currentDate","Date","setHours","initialEndDate","toISOString","slice","className","children","role","ref","fileName","_jsxFileName","lineNumber","columnNumber","src","onClick","_c3","$RefreshReg$"],"sources":["C:/Users/SSAFY/Desktop/S09P22B308/frontend/src/pages/main/index.jsx"],"sourcesContent":["import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport * as THREE from \"three\";\r\nimport Flickity from \"flickity\";\r\nimport \"flickity/css/flickity.css\"; // Import Flickity CSS\r\nimport \"./style.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { useUserInfo } from \"@/apis/menu/Queries/useUserInfo\";\r\n// import { userInfoState, userLoginState } from \"@/states/userState\";\r\nimport money from \"../../assets/img/mainLogo/money.png\";\r\nimport dictionary from \"../../assets/img/mainLogo/dictionary.jpg\";\r\nimport masooriStory from \"../../assets/img/mainLogo/masooriStory.jpg\";\r\nimport spendtarot from \"../../assets/img/mainLogo/spendtarot.jpg\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport VerifyNumberModal from \"@/components/verifyNumberModal\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { nowDateInfoState } from \"@/states/spendState\";\r\nimport { useGetConsumeRecent } from \"@/apis/spend/Queries/useGetConsumeRecent\";\r\nimport { spendIdState, specialIdState } from \"@/states/dictionaryState\";\r\nimport { modalOpenState } from \"@/states/userState\";\r\nimport { usePostConsume } from \"@/apis/main/Mutations/usePostConsume\";\r\n\r\n//verifymodal\r\n\r\nconst Backdrop = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8); /* Semi-transparent black background */\r\n  display: ${(props) => (props.isOpen ? \"block\" : \"none\")};\r\n  z-index: 1;\r\n`;\r\n\r\nconst ModalContainer = styled.div`\r\n  position: fixed;\r\n  top: 23%;\r\n  left: 40%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 20px;\r\n  display: ${(props) => (props.isOpen ? \"block\" : \"none\")};\r\n  z-index: 3;\r\n`;\r\n\r\nconst MainPage = () => {\r\n  const navigate = useNavigate();\r\n  const canvasRef = useRef(null); // Ref to store the canvas element\r\n\r\n  useEffect(() => {\r\n    let body,\r\n      mainContainer,\r\n      scene,\r\n      renderer,\r\n      camera,\r\n      windowWidth,\r\n      windowHeight,\r\n      windowHalfWidth,\r\n      windowHalfHeight,\r\n      mouseX = 0,\r\n      mouseY = 0,\r\n      graphics,\r\n      currentGraphic = 0,\r\n      graphicCanvas,\r\n      gctx,\r\n      graphicPixels;\r\n\r\n    const cameraLookAt = new THREE.Vector3(0, 0, 0),\r\n      cameraTarget = new THREE.Vector3(0, 0, 800),\r\n      colors = [\"#F9DFAD\", \"#FFC56E\", \"#F96893\", \"#FFFFFF\", \"#FFC56E\"],\r\n      canvasWidth = 260,\r\n      canvasHeight = 260,\r\n      particles = [],\r\n      graphicOffsetX = canvasWidth / 2,\r\n      graphicOffsetY = canvasHeight / 4;\r\n\r\n    const initStage = () => {\r\n      body = document.querySelector(\".body\");\r\n      mainContainer = document.querySelector(\"#main\");\r\n      setWindowSize();\r\n      window.addEventListener(\"resize\", onWindowResize, false);\r\n      window.addEventListener(\"mousemove\", onMouseMove, false);\r\n    };\r\n\r\n    const initScene = () => {\r\n      scene = new THREE.Scene();\r\n      renderer = new THREE.WebGLRenderer({\r\n        alpha: true,\r\n        antialias: true,\r\n        canvas: canvasRef.current, // Use the canvas element from the ref\r\n      });\r\n      renderer.setPixelRatio(window.devicePixelRatio);\r\n      renderer.setSize(windowWidth, windowHeight);\r\n      mainContainer.appendChild(renderer.domElement);\r\n      scene.background = new THREE.Color(0x4d3548);\r\n    };\r\n\r\n    const initCamera = () => {\r\n      const fieldOfView = 75;\r\n      const aspectRatio = windowWidth / windowHeight;\r\n      const nearPlane = 1;\r\n      const farPlane = 3000;\r\n      camera = new THREE.PerspectiveCamera(\r\n        fieldOfView,\r\n        aspectRatio,\r\n        nearPlane,\r\n        farPlane\r\n      );\r\n      camera.position.z = 800;\r\n    };\r\n\r\n    const initCanvas = () => {\r\n      graphicCanvas = document.createElement(\"canvas\");\r\n      graphicCanvas.width = canvasWidth;\r\n      graphicCanvas.height = canvasHeight;\r\n      gctx = graphicCanvas.getContext(\"2d\");\r\n      graphics = document.querySelectorAll(\".intro-cell > img\");\r\n    };\r\n\r\n    function Particle(graphicPixels) {\r\n      this.graphicPixels = graphicPixels; // Store graphicPixels array\r\n      this.vx = Math.random() * 0.05;\r\n      this.vy = Math.random() * 0.05;\r\n    }\r\n\r\n    Particle.prototype.init = function (i) {\r\n      const particle = new THREE.Object3D();\r\n      const geometryCore = new THREE.SphereGeometry(2, 4, 4);\r\n      const materialCore = new THREE.MeshBasicMaterial({\r\n        color: colors[i % colors.length],\r\n      });\r\n\r\n      const box = new THREE.Mesh(geometryCore, materialCore);\r\n\r\n      const pos = getGraphicPos(graphicPixels[i]);\r\n      particle.targetPosition = new THREE.Vector3(pos.x, pos.y, pos.z);\r\n\r\n      particle.position.set(\r\n        windowWidth * 0.5,\r\n        windowHeight * 0.5,\r\n        -10 * Math.random() + 20\r\n      );\r\n      randomPos(particle.position);\r\n\r\n      // Modifying vertices for BufferGeometry\r\n      const positions = box.geometry.getAttribute(\"position\").array;\r\n      for (let i = 0; i < positions.length; i += 3) {\r\n        positions[i] += -2 + Math.random() * 4; // x\r\n        positions[i + 1] += -2 + Math.random() * 4; // y\r\n        positions[i + 2] += -2 + Math.random() * 4; // z\r\n      }\r\n      box.geometry.getAttribute(\"position\").needsUpdate = true;\r\n\r\n      particle.add(box);\r\n      this.particle = particle;\r\n    };\r\n\r\n    Particle.prototype.updateRotation = function () {\r\n      this.particle.rotation.x += this.vx;\r\n      this.particle.rotation.y += this.vy;\r\n    };\r\n\r\n    Particle.prototype.updatePosition = function () {\r\n      this.particle.position.lerp(this.particle.targetPosition, 0.1);\r\n    };\r\n\r\n    const updateParticles = () => {\r\n      for (let i = 0, l = particles.length; i < l; i++) {\r\n        particles[i].updateRotation();\r\n        particles[i].updatePosition();\r\n      }\r\n    };\r\n\r\n    const getGraphicPos = (pixel) => {\r\n      const posX = (pixel.x - graphicOffsetX - Math.random() * 4 - 2) * 3;\r\n      const posY = (pixel.y - graphicOffsetY - Math.random() * 4 - 2) * 3;\r\n      const posZ = -20 * Math.random() + 40;\r\n      return { x: posX, y: posY, z: posZ };\r\n    };\r\n\r\n    const setParticles = () => {\r\n      const maxParticles = 3000; // Change this to the desired number of particles\r\n\r\n      for (let i = 0; i < graphicPixels.length && i < maxParticles; i++) {\r\n        if (particles[i]) {\r\n          const pos = getGraphicPos(graphicPixels[i]);\r\n          particles[i].particle.targetPosition.x = pos.x;\r\n          particles[i].particle.targetPosition.y = pos.y;\r\n          particles[i].particle.targetPosition.z = pos.z;\r\n        } else {\r\n          const p = new Particle();\r\n          p.init(i);\r\n          scene.add(p.particle);\r\n          particles[i] = p;\r\n        }\r\n      }\r\n\r\n      for (let i = graphicPixels.length; i < particles.length; i++) {\r\n        randomPos(particles[i].particle.targetPosition, true);\r\n      }\r\n\r\n      console.log(\"Total Particles: \" + particles.length);\r\n    };\r\n\r\n    const randomPos = (vector, outFrame = false) => {\r\n      const radius = outFrame ? windowWidth * 2 : windowWidth * -2;\r\n      const centerX = 0;\r\n      const centerY = 0;\r\n      const r = windowWidth + radius * Math.random();\r\n      const angle = Math.random() * Math.PI * 2;\r\n      vector.x = centerX + r * Math.cos(angle);\r\n      vector.y = centerY + r * Math.sin(angle);\r\n      vector.z = Math.random() * windowWidth;\r\n    };\r\n\r\n    const updateGraphic = () => {\r\n      const img = graphics[currentGraphic];\r\n      gctx.drawImage(img, 0, 0, canvasWidth, canvasHeight);\r\n\r\n      const gData = gctx.getImageData(0, 0, canvasWidth, canvasHeight).data;\r\n      graphicPixels = [];\r\n\r\n      for (let i = gData.length; i >= 0; i -= 4) {\r\n        if (gData[i] === 0) {\r\n          const x = (i / 4) % canvasWidth;\r\n          const y = canvasHeight - Math.floor(Math.floor(i / canvasWidth) / 4);\r\n\r\n          if (x && x % 2 === 0 && y && y % 2 === 0) {\r\n            graphicPixels.push({\r\n              x: x,\r\n              y: y,\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < particles.length; i++) {\r\n        randomPos(particles[i].particle.targetPosition);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        setParticles();\r\n      }, 500);\r\n    };\r\n\r\n    const initBgObjects = () => {\r\n      for (let i = 0; i < 40; i++) {\r\n        createBgObject(i);\r\n      }\r\n    };\r\n\r\n    const createBgObject = (i) => {\r\n      const geometry = new THREE.SphereGeometry(10, 6, 6);\r\n      const material = new THREE.MeshBasicMaterial({ color: 0xffffff });\r\n      const sphere = new THREE.Mesh(geometry, material);\r\n      scene.add(sphere);\r\n      const x = Math.random() * windowWidth * 2 - windowWidth;\r\n      const y = Math.random() * windowHeight * 2 - windowHeight;\r\n      const z = Math.random() * -2000 - 200;\r\n      sphere.position.set(x, y, z);\r\n    };\r\n\r\n    const initSlider = () => {\r\n      const elem = document.querySelector(\".intro-carousel\");\r\n\r\n      const flkty = new Flickity(elem, {\r\n        cellAlign: \"center\",\r\n        contain: true,\r\n        pageDots: false,\r\n        wrapAround: true,\r\n        resize: true,\r\n        arrowShape: {\r\n          x0: 10,\r\n          x1: 60,\r\n          y1: 50,\r\n          x2: 70,\r\n          y2: 40,\r\n          x3: 30,\r\n        },\r\n      });\r\n\r\n      const listener = () => {\r\n        currentGraphic = flkty.selectedIndex;\r\n        updateGraphic();\r\n        console.log(flkty.selectedIndex);\r\n      };\r\n\r\n      flkty.on(\"select\", listener);\r\n    };\r\n\r\n    const onMouseMove = (event) => {\r\n      mouseX = event.clientX - windowHalfWidth;\r\n      mouseY = event.clientY - windowHalfHeight;\r\n      cameraTarget.x = Number(-mouseX) / 2;\r\n      cameraTarget.y = mouseY / 2;\r\n    };\r\n\r\n    const onWindowResize = () => {\r\n      setWindowSize();\r\n      camera.aspect = windowWidth / windowHeight;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(windowWidth, windowHeight);\r\n    };\r\n\r\n    const setWindowSize = () => {\r\n      windowWidth = window.innerWidth;\r\n      windowHeight = window.innerHeight;\r\n      windowHalfWidth = windowWidth / 3;\r\n      windowHalfHeight = windowHeight / 2;\r\n    };\r\n\r\n    const animate = () => {\r\n      requestAnimationFrame(animate);\r\n      updateParticles();\r\n      camera.position.lerp(cameraTarget, 0.2);\r\n      camera.lookAt(cameraLookAt);\r\n      render();\r\n    };\r\n\r\n    const render = () => {\r\n      renderer.render(scene, camera);\r\n    };\r\n\r\n    initStage();\r\n    initScene();\r\n    initCanvas();\r\n    initCamera();\r\n    initSlider();\r\n    initBgObjects();\r\n    updateGraphic();\r\n    animate();\r\n\r\n    const areAllImagesLoaded = () => {\r\n      const images = document.querySelectorAll(\".intro-cell > img\");\r\n      for (const img of images) {\r\n        if (!img.complete) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n\r\n    const initAll = () => {\r\n      initStage();\r\n      initScene();\r\n      initCanvas();\r\n      initCamera();\r\n      initSlider();\r\n      initBgObjects();\r\n      updateGraphic();\r\n      animate();\r\n\r\n      window.addEventListener(\"resize\", onWindowResize, false);\r\n      window.addEventListener(\"mousemove\", onMouseMove, false);\r\n    };\r\n\r\n    if (areAllImagesLoaded()) {\r\n      initAll();\r\n    } else {\r\n      const images = document.querySelectorAll(\".intro-cell > img\");\r\n      let loadedImagesCount = 0;\r\n\r\n      images.forEach((img) => {\r\n        img.addEventListener(\"load\", () => {\r\n          loadedImagesCount++;\r\n          if (loadedImagesCount === images.length) {\r\n            initAll();\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      window.removeEventListener(\"resize\", onWindowResize);\r\n      window.removeEventListener(\"mousemove\", onMouseMove);\r\n    };\r\n  }, []);\r\n\r\n  //modal\r\n  const [isVerifyModalOpen, setIsVerifyModalOpen] = useState(false); // 모달 열림 여부 상태\r\n  const [isModalOpen, setIsModalOpen] = useRecoilState(modalOpenState);\r\n\r\n  //navigation\r\n  const navigateAbout = () => {\r\n    navigate(\"/landing\");\r\n  };\r\n\r\n  const navigateLuck = () => {\r\n    if (isLogin === \"true\") {\r\n      navigate(\"/userluck\");\r\n    } else {\r\n      toast.info(\"비로그인 시 카드 저장 불가\");\r\n      setTimeout(() => {\r\n        navigate(\"/luck\");\r\n      }, 1000); // 1초 뒤에 \"/luck\"으로 이동\r\n    }\r\n  };\r\n\r\n  const navigateDictionary = () => {\r\n    if (isLogin === \"true\") {\r\n      navigate(\"/dictionary\");\r\n    } else {\r\n      setIsModalOpen(!isModalOpen);\r\n    }\r\n  };\r\n\r\n  // 모달 닫기 함수\r\n  const closeModal = () => {\r\n    setIsVerifyModalOpen(false);\r\n  };\r\n\r\n  const closeVerifyModal = () => {\r\n    setIsVerifyModalOpen(false);\r\n  };\r\n\r\n  // 로그인 사용자 userInfo:isAuthenticated 체크\r\n  const [spendId, setSpendId] = useRecoilState(spendIdState);\r\n  const [nowDateInfo, setNowDateInfo] = useRecoilState(nowDateInfoState);\r\n  const [isLogin, setIsLogin] = useState(\"\");\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  const usePostConsumeMutation = usePostConsume();\r\n\r\n  const postConsumeHandler = useCallback(async () => {\r\n    try {\r\n      await usePostConsumeMutation.mutateAsync();\r\n      toast.info(\"⛓ 연동 성공 ⛓\");\r\n    } catch (error) {\r\n      console.error(\"연동 실패:\", error);\r\n    }\r\n  }, [usePostConsumeMutation]);\r\n\r\n  const consumeRecent = useGetConsumeRecent(nowDateInfo);\r\n  const userInfo = useUserInfo(isLogin);\r\n\r\n  useEffect(() => {\r\n    setNowDateInfo(\"\");\r\n    if (consumeRecent === \"인증\") {\r\n      console.log(\"인증\");\r\n      postConsumeHandler();\r\n    }\r\n\r\n    if (consumeRecent && consumeRecent.card) {\r\n      // Access consumeRecent.card safely\r\n      setSpendId(consumeRecent.card.id);\r\n      console.log(spendId);\r\n      window.location.href = \"/spend\";\r\n    }\r\n  }, [\r\n    consumeRecent,\r\n    setNowDateInfo,\r\n    setSpendId,\r\n    spendId,\r\n    isVerifyModalOpen,\r\n    postConsumeHandler,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    // Check if there is an accessToken in localStorage\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n    if (accessToken) {\r\n      setIsLogin(\"true\"); // accessToken이 있으면 isLogin을 true로 설정\r\n    }\r\n  }, [userInfo]);\r\n\r\n  const checkAuth = () => {\r\n    if (isLogin === \"true\") {\r\n      if (userInfo.isAuthenticated === true) {\r\n        const currentDate = new Date();\r\n        currentDate.setHours(0, 0, 0, 0); // Set hours, minutes, seconds, and milliseconds to zero\r\n        const initialEndDate = currentDate.toISOString().slice(0, -2);\r\n        setNowDateInfo(initialEndDate);\r\n        console.log(\"true라 recent를 호출할거임\");\r\n      } else {\r\n        console.log(\"false라 모달이 떴음\");\r\n        setIsVerifyModalOpen(!isVerifyModalOpen);\r\n      }\r\n    } else {\r\n      setIsModalOpen(!isModalOpen);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"body\">\r\n      <main role=\"main\" id=\"main\">\r\n        <div className=\"feature\">\r\n          <canvas ref={canvasRef} />\r\n          <div className=\"intro-carousel\">\r\n            <div className=\"intro-cell\">\r\n              <img src={masooriStory} className=\"intro-graphic\" />\r\n              <div className=\"intro-text\">\r\n                <h1>마수리 이야기</h1>\r\n                <p>\r\n                  당신의 소비내역으로 만드는 마수리만의 특별한 타로카드.\r\n                  <br />\r\n                  마수리와 함께 새로운 시작, 새로운 습관을 만들어보세요.\r\n                </p>\r\n                <a onClick={navigateAbout}>ENTER</a>\r\n              </div>\r\n            </div>\r\n            <div className=\"intro-cell\">\r\n              <img src={money} className=\"intro-graphic\" />\r\n              <div className=\"intro-text\">\r\n                <h1>오늘의 금전운</h1>\r\n                <p>\r\n                  마수리와 함께 오늘의 금전운과 행운의 색깔을 확인하세요!\r\n                  <br /> 당신의 하루를 더 행복하고 특별하게 만들어 줄 조언들이\r\n                  기다리고 있습니다.\r\n                </p>\r\n                <a onClick={navigateLuck}>ENTER</a>\r\n              </div>\r\n            </div>\r\n            <div className=\"intro-cell\">\r\n              <img src={spendtarot} className=\"intro-graphic\" />\r\n              <div className=\"intro-text\">\r\n                <h1>소비패턴 타로</h1>\r\n                <p>\r\n                  당신의 주간 소비 패턴으로 탄생하는 단 하나의 타로카드\r\n                  <br /> 당신만을 위한 특별한 메시지를 받아보세요.\r\n                </p>\r\n                <a onClick={checkAuth}>ENTER</a>\r\n              </div>\r\n            </div>\r\n            <div className=\"intro-cell\">\r\n              <img src={dictionary} className=\"intro-graphic\" />\r\n              <div className=\"intro-text\">\r\n                <h1>도감 및 카드추천</h1>\r\n                <p>\r\n                  당신만의 타로카드를 한 눈에 확인하세요. <br />\r\n                  더불어, 마수리의 맞춤형 카드 추천 서비스를 통해 똑똑한 소비를\r\n                  경험해보세요!\r\n                </p>\r\n                <a onClick={navigateDictionary}>ENTER</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <ModalContainer isOpen={isVerifyModalOpen}>\r\n        <VerifyNumberModal closeModal={closeVerifyModal} />\r\n      </ModalContainer>\r\n      <Backdrop isOpen={isVerifyModalOpen} onClick={closeModal} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}