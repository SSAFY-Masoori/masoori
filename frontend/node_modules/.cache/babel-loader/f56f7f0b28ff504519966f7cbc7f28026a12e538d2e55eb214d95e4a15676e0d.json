{"ast":null,"code":"var _s = $RefreshSig$();\nimport { instance } from \"@/apis/instance\";\nimport { toast } from \"react-toastify\";\nimport { useRecoilState } from \"recoil\";\nimport { nowDateInfoState } from \"@/states/spendState\";\nconst postGhost = async () => {\n  try {\n    const response = await instance.post(`/user/ghost`);\n    return response.data;\n  } catch {\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - postGhost\");\n  }\n};\nconst postSSESendData = async () => {\n  try {\n    const response = await instance.post(`/sse/send-data`);\n    return response.data;\n  } catch {\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - postSSESendData\");\n  }\n};\nconst getSSESubscribe = async () => {\n  try {\n    const response = await instance.get(`/sse/subscribe`);\n    return response.data;\n  } catch {\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - getSSESubscribe\");\n  }\n};\nconst getConsumeId = async id => {\n  try {\n    const response = await instance.get(`/card/consume/${id}`);\n    return response.data;\n  } catch {\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - getConsumeId\");\n  }\n};\nconst getConsumeRecent = async nowDate => {\n  _s();\n  const [nowDateInfo, setNowDateInfo] = useRecoilState(nowDateInfoState);\n  try {\n    const response = await instance.get(`/card/consume/recent?now=${nowDate}`);\n    return response.data;\n  } catch (error) {\n    // 400 ÏóêÎü¨ Ï≤òÎ¶¨ (Ïπ¥ÎìúÏÉùÏÑ±Ï§ë)\n    if (error.response && error.response.status === 400 && error.response.data.code === \"C009\") {\n      // alert(\"Ïπ¥Îìú ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§. error code : C009\");\n      toast.info(\"üéÉ C009 üéÉ\");\n    } else if (error.response && error.response.status === 400 && error.response.data.code === \"C008\") {\n      alert(\"Ïπ¥Îìú ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§. error code : C008\");\n    } else {\n      // Îã§Î•∏ ÏóêÎü¨ Ï≤òÎ¶¨\n      console.error(\"API Ïó∞Îèô Ïò§Î•ò - getConsumeRecent:\", error);\n      console.log(error.response);\n      // ÏóêÎü¨ Ï≤òÎ¶¨ Î°úÏßÅ Ï∂îÍ∞Ä\n    }\n    // ÏóêÎü¨Î•º Îã§Ïãú throwÌïòÏßÄ ÏïäÍ≥† Í∏∞Î≥∏Í∞í ÎòêÎäî Îπà Îç∞Ïù¥ÌÑ∞Î•º Î∞òÌôò\n    return null;\n  }\n};\n_s(getConsumeRecent, \"PufDGos7zFSJ090XrY4xPP5Ni24=\", false, function () {\n  return [useRecoilState];\n});\nexport { postGhost, getConsumeId, getConsumeRecent, postSSESendData, getSSESubscribe };","map":{"version":3,"names":["instance","toast","useRecoilState","nowDateInfoState","postGhost","response","post","data","Error","postSSESendData","getSSESubscribe","get","getConsumeId","id","getConsumeRecent","nowDate","_s","nowDateInfo","setNowDateInfo","error","status","code","info","alert","console","log"],"sources":["C:/Users/SSAFY/Desktop/S09P22B308/frontend/src/apis/spend/spendAPI.ts"],"sourcesContent":["import { instance } from \"@/apis/instance\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { nowDateInfoState } from \"@/states/spendState\";\r\n\r\nconst postGhost = async () => {\r\n  try {\r\n    const response = await instance.post(`/user/ghost`);\r\n    return response.data;\r\n  } catch {\r\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - postGhost\");\r\n  }\r\n};\r\n\r\nconst postSSESendData = async () => {\r\n  try {\r\n    const response = await instance.post(`/sse/send-data`);\r\n    return response.data;\r\n  } catch {\r\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - postSSESendData\");\r\n  }\r\n};\r\n\r\nconst getSSESubscribe = async () => {\r\n  try {\r\n    const response = await instance.get(`/sse/subscribe`);\r\n    return response.data;\r\n  } catch {\r\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - getSSESubscribe\");\r\n  }\r\n};\r\n\r\nconst getConsumeId = async (id: number) => {\r\n  try {\r\n    const response = await instance.get(`/card/consume/${id}`);\r\n    return response.data;\r\n  } catch {\r\n    new Error(\"api Ïó∞Îèô Ïò§Î•ò - getConsumeId\");\r\n  }\r\n};\r\n\r\nconst getConsumeRecent = async (nowDate: string) => {\r\n  const [nowDateInfo, setNowDateInfo] = useRecoilState(nowDateInfoState);\r\n\r\n  try {\r\n    const response = await instance.get(`/card/consume/recent?now=${nowDate}`);\r\n    return response.data;\r\n  } catch (error: any) {\r\n    // 400 ÏóêÎü¨ Ï≤òÎ¶¨ (Ïπ¥ÎìúÏÉùÏÑ±Ï§ë)\r\n    if (\r\n      error.response &&\r\n      error.response.status === 400 &&\r\n      error.response.data.code === \"C009\"\r\n    ) {\r\n      // alert(\"Ïπ¥Îìú ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§. error code : C009\");\r\n      toast.info(\"üéÉ C009 üéÉ\");\r\n    } else if (\r\n      error.response &&\r\n      error.response.status === 400 &&\r\n      error.response.data.code === \"C008\"\r\n    ) {\r\n      alert(\"Ïπ¥Îìú ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§. error code : C008\");\r\n    } else {\r\n      // Îã§Î•∏ ÏóêÎü¨ Ï≤òÎ¶¨\r\n      console.error(\"API Ïó∞Îèô Ïò§Î•ò - getConsumeRecent:\", error);\r\n      console.log(error.response);\r\n      // ÏóêÎü¨ Ï≤òÎ¶¨ Î°úÏßÅ Ï∂îÍ∞Ä\r\n    }\r\n    // ÏóêÎü¨Î•º Îã§Ïãú throwÌïòÏßÄ ÏïäÍ≥† Í∏∞Î≥∏Í∞í ÎòêÎäî Îπà Îç∞Ïù¥ÌÑ∞Î•º Î∞òÌôò\r\n    return null;\r\n  }\r\n};\r\n\r\nexport {\r\n  postGhost,\r\n  getConsumeId,\r\n  getConsumeRecent,\r\n  postSSESendData,\r\n  getSSESubscribe,\r\n};\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,cAAc,QAAQ,QAAQ;AACvC,SAASC,gBAAgB,QAAQ,qBAAqB;AAEtD,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAE,aAAY,CAAC;IACnD,OAAOD,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,MAAM;IACN,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EACpC;AACF,CAAC;AAED,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAI;IACF,MAAMJ,QAAQ,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAE,gBAAe,CAAC;IACtD,OAAOD,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,MAAM;IACN,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAC1C;AACF,CAAC;AAED,MAAME,eAAe,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAI;IACF,MAAML,QAAQ,GAAG,MAAML,QAAQ,CAACW,GAAG,CAAE,gBAAe,CAAC;IACrD,OAAON,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,MAAM;IACN,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAC1C;AACF,CAAC;AAED,MAAMI,YAAY,GAAG,MAAOC,EAAU,IAAK;EACzC,IAAI;IACF,MAAMR,QAAQ,GAAG,MAAML,QAAQ,CAACW,GAAG,CAAE,iBAAgBE,EAAG,EAAC,CAAC;IAC1D,OAAOR,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,MAAM;IACN,IAAIC,KAAK,CAAC,0BAA0B,CAAC;EACvC;AACF,CAAC;AAED,MAAMM,gBAAgB,GAAG,MAAOC,OAAe,IAAK;EAAAC,EAAA;EAClD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhB,cAAc,CAACC,gBAAgB,CAAC;EAEtE,IAAI;IACF,MAAME,QAAQ,GAAG,MAAML,QAAQ,CAACW,GAAG,CAAE,4BAA2BI,OAAQ,EAAC,CAAC;IAC1E,OAAOV,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOY,KAAU,EAAE;IACnB;IACA,IACEA,KAAK,CAACd,QAAQ,IACdc,KAAK,CAACd,QAAQ,CAACe,MAAM,KAAK,GAAG,IAC7BD,KAAK,CAACd,QAAQ,CAACE,IAAI,CAACc,IAAI,KAAK,MAAM,EACnC;MACA;MACApB,KAAK,CAACqB,IAAI,CAAC,YAAY,CAAC;IAC1B,CAAC,MAAM,IACLH,KAAK,CAACd,QAAQ,IACdc,KAAK,CAACd,QAAQ,CAACe,MAAM,KAAK,GAAG,IAC7BD,KAAK,CAACd,QAAQ,CAACE,IAAI,CAACc,IAAI,KAAK,MAAM,EACnC;MACAE,KAAK,CAAC,+BAA+B,CAAC;IACxC,CAAC,MAAM;MACL;MACAC,OAAO,CAACL,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDK,OAAO,CAACC,GAAG,CAACN,KAAK,CAACd,QAAQ,CAAC;MAC3B;IACF;IACA;IACA,OAAO,IAAI;EACb;AACF,CAAC;AAACW,EAAA,CA9BIF,gBAAgB;EAAA,QACkBZ,cAAc;AAAA;AA+BtD,SACEE,SAAS,EACTQ,YAAY,EACZE,gBAAgB,EAChBL,eAAe,EACfC,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}